#include<iostream>
#include<windows.h>
#include "Jugador.h"
#include "main.h"
#include "Mapas.h"

bool dead=0, smn = 0;
int t = 5, ira = t+2;

char m[11][15][15] =
    {
        {
            {'#', '#', '#', '#', '#', '#', '#', 'P', '#', '#', '#', '#', '#', '#', '#'},
            {'#', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.','#'},
            {'#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.', '.', '.', 'X', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#'}


        },
        {
           {'#', '#', '#', '#', '#', '#', '#', 'P', '#', '#', '#', '#', '#', '#', '#'},
            {'#', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', 'O','#'},
            {'#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.', '.', '.', 'M', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.', 'P'},
            {'#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.', '.', '.', '.', '.', '.', 'F', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.', '.', '.', 'X', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '#', '#', '#', '#', '#', '#', 'P', '#', '#', '#', '#', '#', '#', '#'}
        },
        {
            {'#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#'},
            {'#', 'S','.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.','#'},
            {'#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '>', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.', '#', '#', '#', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '>', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '#', '.', '.', '.', '#', '.', 'M', '.', '.', '.', '#'},
            {'P', 'X', '.', '.','#', '.', '.', '.', '#', '.', '.', 'K', '.', 'M', '#'},
            {'#', '.', '.', '.', '#', '.', '.', '.', '#', '.', 'M', '.', '.', '.', '#'},
            {'#', '>', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.','#', '#', '#', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '>', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', 'S', 'S', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#'}

        },
        {
            {'#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#'},
            {'#', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.', 'O', '.','#'},
            {'#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '#', '#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '#', '.', '.', '.', '<', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'P', '.', 'N', '.','.', '.', '.', 'N', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '#', '.', 'M', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.', '.', '#', 'M', '.', '.', '.', '#', '.', '.', '#'},
            {'#', '.', '.', '.', '.', '.', '#', '.', '.', '.', '.', '.', '<', '#', '#'},
            {'#', '.', '.', '.', '.', '.', '#', 'X', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '#', '#', '#', '#', '#', '#', 'P', '#', '#', '#', '#', '#', '#', '#'}

        },
        {
            {'#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#'},
            {'#', '.','.', '.', 'V', '.', 'V', '.', 'V', '.', '.', '.', 'O', '.','#'},
            {'#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', 'V', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#', '#'},
            {'#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', 'V', '#'},
            {'#', '.', '.', 'M', '#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'P', '.', '.', '.','.', '.', '.', 'O', '.', '.', '>', '.', '.', 'X', 'P'},
            {'#', '.', '.', 'M', '#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', 'N', '#'},
            {'#', '^', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '#', '#'},
            {'#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.', '.', '^', '.', '^', '.', '^', '.', '.', '.', '#'},
            {'#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#'}

        },
        {
            {'#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#'},
            {'#', '.', 'v', 'v', '.', 'v', 'v', '.', 'v', 'v', '.', 'v', 'v', '.','#'},
            {'#', '>', '.', '.', 'K', '.', '.', 'K', 'K', '.', '.', 'K', '.', 'K', '#'},
            {'#', '>', '.', '.', '.', '.', '.', '.', 'K', '.', '.', 'K', '.', '.', '#'},
            {'#', '>', '.', '.', '.', '.', '.', '.', 'K', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', 'K', 'K', 'K', 'K', 'K', '.', 'K', 'K', '.', 'K', '#'},
            {'#', '>', '.', '.', '.', '.', '.', '.', '.', '.', '.', 'K', '.', '.', '#'},
            {'#', '>', '.', '.','.', 'K', 'K', 'K', '.', '.', '.', 'K', 'K', 'X', 'P'},
            {'#', '>', '.', '.', '.', 'K', '.', '.', '.', '.', '.', '.', '.', 'K', '#'},
            {'#', '.', '.', '.', 'K', '.', '.', '.', '.','K', '.', '.', '.', '.', '#'},
            {'#', '>', '.', '.', 'K','.', '.', 'K', 'K', 'K', 'K', 'K', 'K', '.', '#'},
            {'#', '>', '.', '.', 'K', '.', 'K','.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '>', '.', '.', 'K', '.', 'K', '.', 'K', '.', '.', 'K', '.', '.', '#'},
            {'#', '.', '^', '^', '.', '^', '^', 'K', '^', '^', '.', '^', '^', '.', '#'},
            {'#', '#', '#', '#', '#', '#', '#', 'P', '#', '#', '#', '#', '#', '#', '#'}

        },
        {
            {'#', '#', '#', '#', '#', '#', '#', 'P', '#', '#', '#', '#', '#', '#', '#'},
            {'#', 'O', '.', '.', '.', '#', 'M', 'X', '#', '.', '.', '.', '.', 'O','#'},
            {'#', '.', '.', '.', '.', '#', '.', '.', '.', 'M', '#', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.', '#', '.', '.', 'N', '.', '.', '.', '.', '<', '#'},
            {'#', '.', '.', '#', '.', '.', '.', '.', '#', '.', '.', '.', '.', '.','#'},
            {'#', '.', '.', '#', '.', '#', '.', '.', '#', '.', '.', '.', '.', '.', '#'},
            {'#', '#', '#', '#', '#', '#', '.', '.', '.','.', '#', '.', '.', '.', '#'},
            {'P', '.', '.', '.','.', '#', '.', 'O', '.','S', '#', '.', '.', '.', '#'},
            {'#', '#', '#', '#', '.','#', '#', '#', '#','#', '#', '.', '.', '.','#'},
            {'#', '.', '.', '.', '.', 'V', '.', '.', '.','V', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.', '.', '#','.', '#', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.', '.', '#', '.', '#', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.', '.', '#', '.', '#', '.', '.', '.', '.', '.', '#'},
            {'#', '#', '#', '#', '#', '#', '#', 'P', '#', '#', '#', '#', '#', '#', '#'}

        },
        {
            {'#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#'},
            {'#', 'O', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.','#'},
            {'#', '.', '.', '.', '#', '#', '#', '.', '.', 'O', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '#', '.', '.', '.', '.', '.', '.', '.', '.', 'O', '.','#'},
            {'#', '.', '.', '#', '.', '#', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '#', '.', '#', '.', '.', '.','#', '.', '.', '.', '.', '#'},
            {'P', '.', '.', '.','.', '#', '.', '.', '.','#', '.', '.', '.', 'X', 'P'},
            {'#', '.', '.', 'O', '.','#', '.', '.', '.','#', 'O', '.', '.', '.','#'},
            {'#', '.', '.', '.', '.', '#', '.', '.', '.','.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.','#', '.', '.', '.', '.', '#', '#', '#', '.', '#'},
            {'#', '.', '.', '.', '.', '#', '.','.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '#', '#', '#', '#', '#', '#', '#', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.', '.', 'O', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#'}

        },
        {
            {'#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#'},

            {'#', '.', '.', '.', '.', '.', '.', 'V', '.', '.', '.', '.', 'S', 'O','#'},
            {'#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.','#'},
            {'#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '#'},
            {'#', 'K', '.', '.','N', '.', '.', '.', '.','.', '.', '.', '.', 'X', 'P'},
            {'#', '.', '.', 'O', '.','.', '.', '.', '.','.', '.', '.', '.', '.','#'},
            {'#', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', 'S', '.', '.', '.', '.', '^', '.', '.', '.', '.', 'O', '#'},
            {'#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#'}

        },
        {
            {'#', '#', '#', '#', '#', '#', '#', 'P', '#', '#', '#', '#', '#', '#', '#'},
            {'#', 'S', '.', '.', '.', '.', '.', 'X', '.', '.', '.', '.', '.', 'O','#'},
            {'#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', 'N', '.', '.', '.', '.', '.', '.', '.', '.', '.','#'},
            {'#', '.', '.', '.', 'M', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.','N', '.', '.', '.', '.','.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.','.', '.', '.', '.','.', '.', '.', '.', '.','#'},
            {'#', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#'},
            {'#', 'O', '.', '.', '.', '^', '^', '.', '^', '^', '.', '.', '.', 'S', '#'},
            {'#', '#', '#', '#', '#', '#', '#', 'P', '#', '#', '#', '#', '#', '#', '#'}

        }
    };


int mundoActual=0;

int JugX=7, JugY=13;

void checarPos()
{
    if(mundoActual==0)
    {
        JugX=7;
        JugY=13;
    }
    else if(mundoActual==1)
    {
        JugX=7;
        JugY=13;
    }
    else if(mundoActual==2)
    {
        JugX=1;
        JugY=7;
    }
    else if(mundoActual==3)
    {
        JugX=7;
        JugY=13;
    }
    else if(mundoActual==4)
    {
        JugX=13;
        JugY=7;
    }
    else if(mundoActual==5)
    {
        JugX=13;
        JugY=7;
    }
    else if(mundoActual==6)
    {
        JugX=7;
        JugY=1;
    }
    else if(mundoActual==7)
    {
        JugX=13;
        JugY=7;
    }
    else if(mundoActual==8)
    {
        JugX=13;
        JugY=7;
    }
    else if(mundoActual==9)
    {
        JugX=7;
        JugY=1;
    }

}




/*int posicionActual(char c){
    char c1 = c;
    if(m[mundoActual][JugY][JugX]==c1){
        smn =1;
    }
    return smn;
}
*/
void showMap()
{
    system("cls");
    for(int i=0; i<15; i++){
        for(int j=0; j<15; j++){
            cout<<m[mundoActual][i][j];
        }
        cout<<"\n";
    }
}

int muerte(){
    if(m[mundoActual][JugY][JugX]=='.'||m[mundoActual][JugY][JugX]=='S'||m[mundoActual][JugY][JugX]=='X'){
        dead=0;
    }

    else {
        dead=1;
    }
    return dead;
}

int isOnS(){
    if(m[mundoActual][JugY][JugX]!='S'){
        if(smn==1&&ira>0){
            smn=1;
        }
        else {
            smn=0;
            ira=t+2;
        }
    }
    else smn=1;
    return smn;
}

int enemigo(){
    if(m[mundoActual][JugY][JugX]!='.'||m[mundoActual][JugY][JugX]!='S'||m[mundoActual][JugY][JugX]!='X'){
        return 1;
    }
    else return 0;
}

void jugD()
{
    if(m[mundoActual][JugY+1][JugX]!='#')
    {
        ira--;
        m[mundoActual][JugY][JugX] = '.';
        JugY++;
        isOnS();
        if(m[mundoActual][JugY][JugX]=='P')
        {
            //turno();
            mundoActual++;
            showMap();
            checarPos();
        }
        if (muerte() == 1) {
            if(superSaiyan() == 1) dead = 0;
            else gameOver();
        }
        m[mundoActual][JugY][JugX] = 'X';
    }

}
void jugU()
{
    if(m[mundoActual][JugY-1][JugX]!='#')
    {
        ira--;
        m[mundoActual][JugY][JugX] = '.';
        JugY--;
        isOnS();
        if(m[mundoActual][JugY][JugX]=='P')
        {
            //turno();
            mundoActual++;
            showMap();
            checarPos();
        }
        if (muerte() == 1) {
            if(superSaiyan() == 1) dead = 0;
            else gameOver();
        }
        /*if(m[mundoActual][y][x]=='2')
        {
            turno();
            mundoActual = 1;
            x = y = 0;
        }*/
        m[mundoActual][JugY][JugX] = 'X';
    }

}
void jugR()
{
    if(m[mundoActual][JugY][JugX+1]!='#')
    {
        ira--;
        m[mundoActual][JugY][JugX] = '.';
        JugX++;
        isOnS();
        if(m[mundoActual][JugY][JugX]=='P')
        {
            //turno();
            mundoActual++;
            showMap();
            checarPos();
        }
        if (muerte() == 1) {
            if(superSaiyan() == 1) dead = 0;
            else gameOver();
        }
        /*if(m[mundoActual][y][x]=='2')
        {
            turno();
            mundoActual = 1;
            x = y = 0;
        }*/
        m[mundoActual][JugY][JugX] = 'X';
    }

}
void jugL()
{
    if(m[mundoActual][JugY][JugX-1]!='#')
    {
        ira--;
        m[mundoActual][JugY][JugX] = '.';
        JugX--;
        isOnS();
        if(m[mundoActual][JugY][JugX]=='P')
        {
            //turno();
            mundoActual++;
            showMap();
            checarPos();
        }
        if (muerte() == 1) {
            if(superSaiyan() == 1) dead = 0;
            else gameOver();
        }
        /*if(m[mundoActual][y][x]=='2')
        {
            turno();
            mundoActual = 1;
            x = y = 0;
        }*/
        m[mundoActual][JugY][JugX] = 'X';
    }

}

